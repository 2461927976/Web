<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>canvas</title>
    <style>
        #canvas{
            box-shadow: 4px 4px 12px rgba(0,0,0,0.5);
            position: absolute;
            left: 10%;
            top: 5%;
        }
    </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script src="../utils.js"></script>
<script>
    const canvas = document.getElementById("canvas")
    const ctx = canvas.getContext('2d')

    let w = canvas.width = 800
    let h = canvas.height = 600
    
    let mouse = c.getOffset(canvas)

    drawSystem()

    canvas.onmousemove = function () {
        ctx.clearRect(0,0,w,h)
        let dx = mouse.x - w/2
        let dy = mouse.y - h/2
        let angle = Math.atan2(dy,dx) * 180 /Math.PI

        drawSystem()
        ctx.beginPath()
        ctx.lineTo(mouse.x,mouse.y)
        ctx.lineTo(w/2,h/2)
        ctx.stroke()
        ctx.fillText(-angle,mouse.x,mouse.y)
    }
    
    function drawSystem() {
        ctx.save()
        ctx.lineWidth = 1.5
        ctx.beginPath()
        ctx.moveTo(0,h/2)
        ctx.lineTo(w,h/2)
        ctx.moveTo(w/2,0)
        ctx.lineTo(w/2,h)

        ctx.stroke()
        ctx.restore()
    }
</script>
</body>
</html>